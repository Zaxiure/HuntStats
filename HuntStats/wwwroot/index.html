<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
	<title>HuntStats</title>
	<base href="/" />
	<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
	<link href="css/app.css" rel="stylesheet" />
    <link href="HuntStats.styles.css" rel="stylesheet" />
	<script src="js/popper.min.js"></script>
	<script src="js/chart.min.js"></script>
<!--	<script src="js/chartjs-plugin-annotation.min.js"></script>-->
</head>

<body style="background-color:#000">

<div id="app">
</div>
<div class="page-loading">
    <div class="page-loading-container">
        <div class="page-center">
            <div class="loader loader--style5" title="4">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     width="24px" height="30px" top="0" left="0" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                        <rect x="0" y="0" width="4" height="10" fill="#fff">
                          <animateTransform attributeType="xml"
                                            attributeName="transform" type="translate"
                                            values="0 0; 0 20; 0 0"
                                            begin="0" dur="0.6s" repeatCount="indefinite" />
                        </rect>
                    <rect x="10" y="0" width="4" height="10" fill="#fff">
                          <animateTransform attributeType="xml"
                                            attributeName="transform" type="translate"
                                            values="0 0; 0 20; 0 0"
                                            begin="0.2s" dur="0.6s" repeatCount="indefinite" />
                        </rect>
                    <rect x="20" y="0" width="4" height="10" fill="#fff">
                      <animateTransform attributeType="xml"
                                        attributeName="transform" type="translate"
                                        values="0 0; 0 20; 0 0"
                                        begin="0.4s" dur="0.6s" repeatCount="indefinite" />
                    </rect>
                  </svg>
            </div>
        </div>
    </div>
</div>

<div id="blazor-error-ui">
    <div class="blazor-error-container">
        <div class="blazor-inner-container">
            <div class="top">
                <h1>Big oof</h1>
                <button class="dismiss button"></button>
            </div>
            <div class="center">
                <p style="font-size:18px;">Something went wrong</p>
            </div>
            <div class="bottom">
                <a style="background-color: #6A67FC;margin-right:15px;" id="reload" class="reload button">Reload</a>
                <a class="button dismiss">Dismiss</a>
            </div>
        </div>
    </div>
    <div class="blazor-error-backdrop dismiss"></div>
</div>

<script>
    var charts = [];
    var testobject;

    window.RemoveLoading = function() {
        setTimeout(() => {
            $('.page-loading').addClass("hide");
            setTimeout(() => {
                $('.page-loading').remove();
            }, 300)
        }, 1000)
    }
    
    window.getWidth = () => {
        return window.innerWidth
    }

    window.resetChart = (el) => {
        var chartToRefresh = charts.filter(x => x.canvas == el)[0];
        if (chartToRefresh !== undefined) {
            chartToRefresh.destroy();
            charts.splice(charts.indexOf(chartToRefresh), 1);
        }
    }

    window.resetCharts = () => {
        charts.forEach(x => {
            if (x !== undefined) {
                if (x.destroy !== undefined) {
                    x.destroy();
                }
            }
        })
        charts = [];
    }

    window.createChart = (chartElement, data) => {
        charts = [...charts, new Chart(chartElement, {
            type: "line",
            data: data,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        suggestedMax: 10,
                    }
                }
                // suggestedMax: 10
            }
        })]
    }

    window.createPieChart = (chartElement, data) => {
        console.log(data);
        charts = [...charts, new Chart(chartElement, {
            type: "pie",
            data: data,
            options: {
                responsive: true,
                maintainAspectRatio: false,
            }
        })]
    }

		window.createDropdown = (clickElement, dropdownElement) => {
			let dropdown = Popper.createPopper(clickElement, dropdownElement, {
				placement: "bottom-start",
				modifiers: [{
					name: 'preventOverflow',
					options: {
						//rootBoundary: 'document',
						//altAxis: true,
						//mainAxis: false,
						//tether: false,
						// padding: 15
					}
				}],
				strategy: 'fixed'
			})
			setTimeout(() => {
				dropdown.update();
			}, 100)
		}
	</script>

<script>
    window.getWidth = () => {
        return window.innerWidth
    }

    // window.createDropdown = (clickElement, dropdownElement) => {
    // 	let dropdown = Popper.createPopper(clickElement, dropdownElement, {
    //		
    // 	})
    // 	setTimeout(() => {
    // 		dropdown.update();
    // 	}, 100)
    // }
</script>

	<script>
		window.setScrollLock = (state) => {

			if (state == false) {
				document.body.className = ""
			} else {
				document.body.className = "scrollLock"
			}
			return 1;
		}
	</script>
	<script src="_framework/blazor.webview.js" autostart="false"></script>

</body>

</html>